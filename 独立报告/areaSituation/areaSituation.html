<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta HTTP-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="renderer" content="webkit">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/icon.css">
    <link rel="stylesheet" href="../plugins/animate.min.css">
    <link rel="stylesheet" href="../css/scroll.css">
    <link rel="stylesheet" href="../plugins/datepicker.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../plugins/mousewheel.js"></script>
    <script src="../plugins/jquery.slimscroll.js"></script>
    <!--<script src="../plugins/echart.js"></script>-->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/pageInit.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/each/dataChoose.js"></script>
    <title>智慧校园</title>
</head>

<body>
<div class="pageContent">
    <div class="rightPage">
        <div class="datelimit">
            <div class="healthyChart">
                <div class="zhihuiBox ">
                    <div class="f16">
                        <a href="javascript:;"><b>四川省</b></a> >
                        <a href="javascript:;"><b>成都市</b></a> >
                        <a href="javascript:;"><b>青羊区</b></a>
                    </div>
                    <div class="clearfix">
                        <div class="nei_rong">
                            <div class="nei_rong_l">
                                <div class="school_info">
                                    <div class="oneline no-border">
                                        <div class="f18">小学</div>
                                        <div  class="f18" style="text-align: right">中学</div>
                                    </div>
                                    <div class="oneline">
                                        <div>2832人
                                        </div>
                                        <div>在校生人数</div>
                                        <div>2523人
                                        </div>
                                        <div class="data_tiao">
                                            <!--注  这里相加为99-->
                                            <span style="width: 50%;height: 5px" class="color_1"></span>
                                            <span style="width: 49%;height: 5px" class="ml10 color_2"></span>
                                        </div>
                                    </div>
                                    <div class="oneline">
                                        <div>200</div>
                                        <div>体育教师人数</div>
                                        <div>180</div>
                                        <div class="data_tiao">
                                            <span style="width: 50%;height: 5px" class="color_1"></span>
                                            <span style="width: 49%;height: 5px" class="ml10 color_2"></span>
                                        </div>
                                    </div>
                                    <div class="oneline">
                                        <div>8</div>
                                        <div>学校数</div>
                                        <div>5</div>
                                        <div class="data_tiao">
                                            <span style="width: 50%;height: 5px" class="color_1"></span>
                                            <span style="width: 49%;height: 5px" class="ml10 color_2"></span>
                                        </div>
                                    </div>
                                    <div class="oneline" style="">
                                        <div class="boy_bili">
                                            <ul>
                                                <li class="f16">55%</li>
                                                <li>
                                                    <div class="data_tiao">
                                                    <span style="width: 98%;height: 5px" class="color_3">&nbsp;</span>
                                                </div>
                                                </li>
                                                <li>
                                                    <div class="data_tiao">
                                                        <span style="width: 87%;height: 5px" class="color_4">&nbsp;</span>
                                                    </div>
                                                </li>
                                                <li class="f16">45%</li>
                                            </ul>

                                        </div>
                                        <div>男女比例</div>
                                        <div class="boy_bili" style="text-align: left;float: right">
                                            <ul >
                                                <li class="f16 " >   <span class="f_r"> 55%</span></li>
                                                <li >
                                                    <div class="data_tiao">
                                                        <span style="width: 98%;height: 5px;float: right" class="color_3">&nbsp;</span>
                                                    </div>
                                                </li>
                                                <li >
                                                    <div class="data_tiao" style="right: 0">
                                                        <span  style="width: 87%;height: 5px;float: right" class="color_4">&nbsp;</span>
                                                    </div>
                                                </li>
                                                <li class="f16"> <span class="f_r"> 45%</span></li>
                                            </ul>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="nei_rong_r">
                               <h3>学生体质健康各分段占比：</h3>
                                <div class="health_rose" ></div>
                                <div class="button_healthy_box" style="text-align: center">
                                    <a class="btn btn-green" >优良率：60%</a>
                                    <a  class="btn blueBtn" >达标率：95%</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!--小学-->
                <div class="zhihuiBox ">
                    <h1 class="f_blue">小学部分</h1>
                    <div class="clearfix">
                        <div class="nei_rong">
                            <h2 class="f_l ">课程课时开展情况: </h2><p  class="f_blue" style="padding-top: 10px" >&nbsp;&nbsp;&nbsp;查看更多</p>
                            <div class=" paimary_info_table">
                                <div class="table">
                                    <table>
                                        <thead>
                                        <tr>
                                            <td rowspan="2" colspan="2"><span>共 <h1>2048</h1>课时</span></td>
                                        </tr>
                                        <tr>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td class="back_gray">基本运动</td>
                                            <td>200</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">田径</td>
                                            <td>150</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">球类</td>
                                            <td>256</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">体操武术</td>
                                            <td>136</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">其他</td>
                                            <td>282</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="nei_rong">
                            <h2 class="f_l ">体质健康数据: </h2><p  class="f_blue" style="padding-top: 10px" >&nbsp;&nbsp;&nbsp;查看更多</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                                <div class="button_healthy_box" style="text-align: center">
                                    <a class="btn btn-green" onclick="paimary_button(true)">优良率：60%</a>
                                    <a  class="btn blueBtn" onclick="paimary_button(false)">达标率：95%</a>
                                </div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>

                    <!--BMI-->
                    <div class="clearfix">
                        <div class="nei_rong">
                           <p >平均身高/体重/BMI</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>

                    <!--肺活量-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >肺活量</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>
                    <!--一分钟跳绳-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >一分钟跳绳</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>
                    <!--一分钟仰卧起-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >一分钟仰卧起坐</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>
                    <!--50m×8-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >50m×8</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>

                </div>
                <!--中学-->
                <div class="zhihuiBox ">
                    <h1 class="f_blue">中学部分</h1>
                    <div class="clearfix">
                        <div class="nei_rong">
                            <h2 class="f_l ">课程课时开展情况: </h2><p  class="f_blue" style="padding-top: 10px" >&nbsp;&nbsp;&nbsp;查看更多</p>
                            <div class=" paimary_info_table">
                                <div class="table">
                                    <table>
                                        <thead>
                                        <tr>
                                            <td rowspan="2" colspan="2"><span>共 <h1>2048</h1>课时</span></td>
                                        </tr>
                                        <tr>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td class="back_gray">基本运动</td>
                                            <td>200</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">田径</td>
                                            <td>150</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">球类</td>
                                            <td>256</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">体操武术</td>
                                            <td>136</td>
                                        </tr>
                                        <tr>
                                            <td class="back_gray">其他</td>
                                            <td>282</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="nei_rong">
                            <h2 class="f_l ">体质健康数据: </h2><p  class="f_blue" style="padding-top: 10px" >&nbsp;&nbsp;&nbsp;查看更多</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                                <div class="button_healthy_box" style="text-align: center">
                                    <a  class="btn btn-green" onclick="height_button(true)">优良率：60%</a>
                                    <a  class="btn blueBtn" onclick="height_button(false)">达标率：95%</a>
                                </div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>

                    <!--BMI-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >平均身高/体重/BMI</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>

                    <!--仰卧起坐/引体向上-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >仰卧起坐/引体向上</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>
                    <!--800/1000-->
                    <div class="clearfix">
                        <div class="nei_rong">
                            <p >800/1000</p>
                            <div class=" paimary_info_table">
                                <div class="health_rose" ></div>
                            </div>
                            <div class=" paimary_info_line"></div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="single_healthy_line">
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

</body>
<script src="../js/each/pie_huan.js"></script>
<script src="../js/each/bar_shili.js"></script>
<script>
    //各个图的高度
    var height=$('.nei_rong_r')[0].clientWidth
    $('.health_rose')[0].style.height=height*0.8+'px'
    for (let i=1;i<$('.health_rose').length;i++){
        $('.health_rose')[i].style.height=height*0.6+'px'
    }
    for (let i=0;i<$('.paimary_info_line').length;i++) {
        $('.paimary_info_line')[i].style.height = height * 0.7 + 'px'
    }
    for (let i=0;i<$('.single_healthy_line').length;i++) {
        $('.single_healthy_line')[i].style.height = height * 0.6 + 'px'
    }


    var healthy_data=[
        {value:120, name:'良好'},
        {value:150, name:'及格'},
        {value:170, name:'不及格'},
        {value:280, name:'优秀'},
    ]
    var BMI_data=[
        {value:120, name:'正常'},
        {value:150, name:'超低重'},
        {value:170, name:'超重'},
        {value:280, name:'肥胖'},
    ]

    //学生体质健康各分段占比玫瑰图
    rose_pie($('.health_rose')[0],healthy_data)
    //小学生体质健康数据玫瑰图
    var paimary_r= rose_pie($('.health_rose')[1],healthy_data)
    //中学生体质健康数据玫瑰图
    var height_r= rose_pie($('.health_rose')[7],healthy_data)

    //BMI玫瑰图，小学生部分 按照所给项目类依次排下去
    rose_pie($('.health_rose')[2],BMI_data)
    rose_pie($('.health_rose')[3],BMI_data)
    rose_pie($('.health_rose')[4],BMI_data)
    rose_pie($('.health_rose')[5],BMI_data)
    rose_pie($('.health_rose')[6],BMI_data)
    //玫瑰图，中学生部分 按照所给项目类依次排下去
    rose_pie($('.health_rose')[8],BMI_data)
    rose_pie($('.health_rose')[9],BMI_data)
    rose_pie($('.health_rose')[10],BMI_data)



    var xdata = ['2013-2014', '2014-2015', '2015-2016', '2016-2017', '2017-2018', '2018-2019']
    var sport_data=[
        {
            name:'总课时',
            data:[10, 11, 13, 17, 21, 24]
        },{
            name:'基本运动',
            data:[15, 24, 26, 30, 32, 35]
        },{
            name:'田径',
            data:[110, 121, 143, 157, 217, 264]
        },{
            name:'球类',
            data:[410, 711, 313, 117, 721, 624]
        },
        {
            name:'体操武术',
            data:[310, 101, 103, 147, 271, 234]
        },{
            name:'其他',
            data:[30, 1, 13, 1, 21, 4]
        }
    ]
    //小学部分线图
    line_sport($('.paimary_info_line')[0],xdata,sport_data)
    //中学生部分线图
    line_sport($('.paimary_info_line')[7],xdata,sport_data)

    var school=['学校A','学校B','学校C','学校D','学校E','学校F']
    var shcool_data=[0.7, 7.8, 14.3, 29.6, 41.2, 39]
    //小学部分体质健康柱图
    var paimary_b= bar_shili($('.paimary_info_line')[1],school,shcool_data)
    //中学部分体质健康柱图
    var height_b= bar_shili($('.paimary_info_line')[8],school,shcool_data)

    var oridata = [
        [120, 132, 101, 134, 90, 230, 210],
        [220, 182, 191, 234, 290, 330, 310],
        [150, 232, 201, 154, 190, 330, 410],
        [150, 232, 201, 154, 190, 330, 410]
    ];
    var duidie_xdata=['低体重','正常','超重',"肥胖"]
    var duidie_ydata=['学校1','学校2','学校3','学校4','学校5','学校6','学校7']

    //BMI堆叠图小学生部分 按照所给项目类依次排下去
    bar_duidie($('.paimary_info_line')[2], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[3], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[4], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[5], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[6], oridata,duidie_xdata,duidie_ydata)

    //堆叠图中学生部分 按照所给项目类依次排下去
    bar_duidie($('.paimary_info_line')[9], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[10], oridata,duidie_xdata,duidie_ydata)
    bar_duidie($('.paimary_info_line')[11], oridata,duidie_xdata,duidie_ydata)

    //线图数据
    var xdata_l=[ '2017-2018', '2018-2019']
    var fei_ds=[{
        name:'低体重',
        data:[110, 11]
    },{
        name:'正常',
        data:[15, 24]
    },{
        name:'超重',
        data:[110, 121]
    },{
        name:'肥胖',
        data:[410, 41]
    }]
    //线图，小学生部分 按照所给项目类依次排下去
    line_sport($('.single_healthy_line')[0],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[1],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[2],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[3],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[4],xdata_l,fei_ds)

    //线图，中学生部分 按照所给项目类依次排下去
    line_sport($('.single_healthy_line')[5],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[6],xdata_l,fei_ds)
    line_sport($('.single_healthy_line')[7],xdata_l,fei_ds)

    //交互数据暂用
    var interactive_data=[{
        name:'优秀',
        data:[0.7, 7.8, 14.3, 39.6, 41.2, 39]
    },{
        name:'良好',
        data:[0.7, 17.8, 54.3, 29.6, 41.2, 39]
    },
        {
            name:'及格',
            data:[0.7, 7.8, 14.3, 29.6, 41.2, 29]
        },
        {
            name:'不及格',
            data:[0.7, 67.8, 74.3, 29.6, 41.2, 39]
        }]

    //小学生部分交互
    paimary_r.on('click',function (d) {
        for (let i=0;i<interactive_data.length;i++){
            if (d.name==interactive_data[i].name){
                paimary_b.setOption({
                    series:[{
                        data:interactive_data[i].data
                    }]
                })
            }
        }
    })
    //小学生部分按钮交互
    function paimary_button(good) {
        if (good){
            paimary_b.setOption({
                series:[{
                    data:[7, 47.8, 54.3, 79.6, 81.2, 89]
                }]
            })
        } else{
            paimary_b.setOption({
                series:[{
                    data:[0.7, 67.8, 74.3, 29.6, 41.2, 39]
                }]
            })
        }
    }

    //中学生部分交互
    height_r.on('click',function (d) {
        for (let i=0;i<interactive_data.length;i++){
            if (d.name==interactive_data[i].name){
                height_b.setOption({
                    series:[{
                        data:interactive_data[i].data
                    }]
                })
            }
        }
    })
    //中学生部分按钮交互
    function height_button(good) {
        if (good){
            height_b.setOption({
                series:[{
                    data:[7, 47.8, 54.3, 79.6, 81.2, 89]
                }]
            })
        } else{
            height_b.setOption({
                series:[{
                    data:[0.7, 67.8, 74.3, 29.6, 41.2, 39]
                }]
            })
        }
    }


</script>
</html>
